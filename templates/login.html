{% extends 'base0.html' %}
{% load static %}
{% load widget_tweaks %}
{% block title %}
    Data Niffler - Login
{% endblock %}
{% block extrahead %}
    <script src="{% static 'js/login.js' %}" type="text/javascript"></script>
    <link href="{% static 'css/login.css' %}" rel="stylesheet">
{% endblock %}
{% block content %}
    <div class="login-page">
        <div class="form">
            <form class="login-form" method="post">
                {% csrf_token %}
                <div class="logo">
                    <img src="{% static 'img/logo.png' %}" alt="" style="width: 100%;">
                </div>
                <br>
                {% for field in form.visible_fields %}
                    <div class="form-group">
                        <label for="{{ field.id_for_label }}" style="color: #f8fcff;">{{ field.label }}</label>
                        {{ field }}
                        {% for error in field.errors %}
                            <span class="help-block" style="color: #ab58ff;">{{ error }}</span>
                        {% endfor %}
                    </div>
                {% endfor %}

                <div class="form-group">
                    <div class="col-sm-9 col-sm-offset-1">
                        <div class="input-group">
                            <span class="label-role">Роль &nbsp;  &nbsp;</span>
                            <div id="radioBtn" class="btn-group">
                                <a class="btn btn-primary btn-sm active" data-toggle="happy" data-title="A">Admin</a>
                                <a class="btn btn-primary btn-sm notActive" data-toggle="happy" data-title="U">User</a>
                            </div>
                            <input type="hidden" name="role" id="happy">
                        </div>
                    </div>
                </div>
                <br>
                <br>
                <br>
                <button type="submit">Войти</button>
            </form>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            $('#happy').attr('value', 'A');
        });

        $('#radioBtn a').on('click', function () {
            var sel = $(this).data('title');
            var tog = $(this).data('toggle');
            $('#' + tog).prop('value', sel);

            $('a[data-toggle="' + tog + '"]').not('[data-title="' + sel + '"]').removeClass('active').addClass('notActive');
            $('a[data-toggle="' + tog + '"][data-title="' + sel + '"]').removeClass('notActive').addClass('active');
        })
    </script>
{% endblock %}